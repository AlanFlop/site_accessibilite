<!DOCTYPE HTML5>
<html lang="fr">
  <head>
    <title>Accessibilité</title>
    <link rel="stylesheet" href="css/moncompte.css" />
    <link rel="stylesheet" href="css/navbar.css" />
    <meta charset="utf-8" />

    <style></style>
  </head>
  <body>
    <nav class="navbar">
      <a class="mainpage">Mon compte</a>
      <a href="voyage.html">Voyages</a>
      <a href="cart.html">Panier</a>
    </nav>

    <section class="background">
      <h1>Vos données</h1>
      <div class="userData" id="userData">
        <span class="username"></span>
        <span class="firstName"></span>
        <span class="lastName"></span>
        <span class="phoneNumber"></span>
        <span class="address"></span>
        <span class="postalCode"></span>
      </div>
    </section>

    <script>
      function loadUserData() {
        var userDataContainer = document.getElementById("userData");

        var xhr = new XMLHttpRequest();
        xhr.open("GET", "php/get_user_information.php", true);

        xhr.onreadystatechange = function () {
          if (xhr.readyState === 4 && xhr.status === 200) {
            var userData = JSON.parse(xhr.responseText);

            userDataContainer.innerHTML = `
              <span class="username">Pseudo: ${userData.username}</span> <br>
              <span class="firstName">Prénom: ${userData.firstName}</span> <br>
              <span class="lastName">Nom: ${userData.lastName}</span> <br>
              <span class="phoneNumber">Téléphone: ********${userData.phoneNumber.slice(
                -2
              )}</span> <br>
              <span class="address">Adresse: ${userData.address}</span> <br>
              <span class="postalCode">Code Postal: ${
                userData.postalCode
              }</span> <br>
            `;

            // Ajoutez les classes aux éléments générés
            userDataContainer
              .querySelector(".username")
              .classList.add("styled-username");
            userDataContainer
              .querySelector(".firstName")
              .classList.add("styled-firstName");
            // Ajoutez les autres classes au besoin
          }
        };

        xhr.send();
      }

      loadUserData();
    </script>
  </body>
</html>
